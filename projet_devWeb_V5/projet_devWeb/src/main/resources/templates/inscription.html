<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Formulaire d'inscription</title>
    <link rel="stylesheet" th:href="@{/style.css}" />
</head>
<body>
    <h2>Inscription</h2>

    <div th:if="${success}" style="color: green;">
        Inscription réussie ! Un email de confirmation vous a été envoyé.
    </div>

    <div th:if="${erreur}" style="color: red;">
        [[${erreur}]]
    </div>

    <form action="#" th:action="@{/inscription}" th:object="${utilisateur}" method="post">
        <label for="nom">Nom :</label>
        <input type="text" id="nom" th:field="*{nom}" required />
        <br/>

        <label for="prenom">Prénom :</label>
        <input type="text" id="prenom" th:field="*{prenom}" required />
        <br/>

        <label for="email">Email :</label>
        <input type="email" id="email" th:field="*{email}" required />
        <br/>

        <label for="motDePasse">Mot de passe :</label>
        <input type="password" id="motDePasse" th:field="*{motDePasse}" required />
        <br/>

        <label for="sexe">Sexe :</label>
        <select id="sexe" th:field="*{sexe}" required>
            <option value="">-- Choisir --</option>
            <option value="Homme">Homme</option>
            <option value="Femme">Femme</option>
            <option value="Autre">Autre</option>
        </select>
        <br/>

        <label for="dateNaissance">Date de naissance :</label>
        <input type="date" id="dateNaissance" th:field="*{dateNaissance}" required />
        <br/>

        <label for="role">Rôle :</label>
        <select id="role" th:field="*{role}" required>
            <option value="">-- Choisir un rôle --</option>
            <option value="SIMPLE">Simple</option>
            <option value="AVANCE">Avancé</option>
            <option value="ADMINISTRATEUR">Administrateur</option>
        </select>


        <button type="submit">S'inscrire</button>
    </form>

    <br/>
    <a href="/connexion">retour connexion</a>

    <script th:if="${erreur == 'Cet email est déjà utilisé !'}">
        alert('Cet email est déjà utilisé. Merci d’en choisir un autre.');
    </script>

</body>
</html>
